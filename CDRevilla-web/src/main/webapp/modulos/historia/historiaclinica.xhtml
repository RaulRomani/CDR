<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">



  <ui:composition template="/templates/templateCool.xhtml">
    <ui:define name="resources">
      <h:outputScript name="/js/scripts.js"/>
    </ui:define>

    <ui:define name="body">


      <div class="container main-content">
        <h1 class="row" style="color: #269abc">Historia Clinica</h1>


        <h:panelGroup id="pacienteData">
          <div class="row">
            <h2>Datos personales</h2>
            <div class="row">
              <div class="col-lg-3">
                <div class="form-group row">
                  <p:outputLabel class="col-sm-3 form-control-label" value="Paciente" />
                  <div class="col-sm-9">
                    <h:form>
                      <p:commandButton id="buscarCliente" icon="ui-icon-search"   
                                       value="Buscar"
                                       oncomplete="PF('PacienteSearchDialog').show()"/>
                    </h:form>
                  </div>
                </div>
              </div>
              <div class="col-lg-offset-9"/>
            </div>
            <div class="col-lg-2">

              <p:graphicImage id="showImage"
                              alt="Foto" 
                              class="MostrarImagen" width="150px"
                              value="#{historia.image}"
                              cache="false"/>
            </div>
            <div class="col-lg-4">
              <div class="form-group row">
                <div class="col-sm-3">
                  <p:outputLabel class="form-control-label" value="#{bundle.ViewPacienteLabel_nombre}"/>
                </div>
                <div class="col-sm-9">
                  <h:outputText value="#{historia.pacienteSelected.nombre}" />
                </div>
              </div>
              <div class="form-group row">
                <div class="col-sm-3">
                  <p:outputLabel class="form-control-label" value="#{bundle.ViewPacienteLabel_apelllidos}"/>
                </div>
                <div class="col-sm-9">
                  <h:outputText value="#{historia.pacienteSelected.apelllidos}" />
                </div>
              </div>
              <div class="form-group row">
                <div class="col-sm-3">
                  <p:outputLabel class="form-control-label" value="#{bundle.ViewPacienteLabel_dni}"/>
                </div>
                <div class="col-sm-9">
                  <h:outputText value="#{historia.pacienteSelected.dni}"/>
                </div>
              </div>
              <div class="form-group row">
                <div class="col-sm-3">
                  <p:outputLabel class="form-control-label" value="#{bundle.ViewPacienteLabel_direccion}"/>
                </div>
                <div class="col-sm-9">
                  <h:outputText value="#{historia.pacienteSelected.direccion}"/>
                </div>
              </div>

              <div class="form-group row">
                <div class="col-sm-3">
                  <p:outputLabel class="form-control-label" value="#{bundle.ViewPacienteLabel_celular}"/>
                </div>
                <div class="col-sm-9">
                  <h:outputText value="#{historia.pacienteSelected.celular}" />
                </div>
              </div>
              <div class="form-group row">
                <div class="col-sm-3">
                  <p:outputLabel class="form-control-label" value="#{bundle.ViewPacienteLabel_sexo}"/>
                </div>
                <div class="col-sm-9">
                  <h:outputText value="#{historia.pacienteSelected.sexo}" />
                </div>
              </div>
              <div class="form-group row">
                <div class="col-sm-3">
                  <p:outputLabel class="form-control-label" value="#{bundle.ViewPacienteLabel_edad}"/>
                </div>
                <div class="col-sm-9">
                  <h:outputText value="#{historia.pacienteSelected.edad}" />
                </div>
              </div>
            </div>

            <div class="col-lg-6">
              <div class="form-group row">
                <div class="col-sm-3">
                  <p:outputLabel class="form-control-label"  value="#{bundle.ViewPacienteLabel_lugarNacimiento}"/>
                </div>
                <div class="col-sm-9">
                  <h:outputText value="#{historia.pacienteSelected.lugarNacimiento}"/>
                </div>
              </div>
              <div class="form-group row">
                <div class="col-sm-3">
                  <p:outputLabel class="form-control-label" value="#{bundle.ViewPacienteLabel_raza}"/>
                </div>
                <div class="col-sm-9">
                  <h:outputText value="#{historia.pacienteSelected.raza}" />
                </div>
              </div>
              <div class="form-group row">
                <div class="col-sm-3">
                  <p:outputLabel class="form-control-label" value="#{bundle.ViewPacienteLabel_gradoInstruccion}"/>
                </div>
                <div class="col-sm-9">
                  <h:outputText value="#{historia.pacienteSelected.gradoInstruccion}"/>
                </div>
              </div>
              <div class="form-group row">
                <div class="col-sm-3">
                  <p:outputLabel class="form-control-label" value="#{bundle.ViewPacienteLabel_ocupación}"/>
                </div>
                <div class="col-sm-9">
                  <h:outputText value="#{historia.pacienteSelected.ocupación}" />
                </div>
              </div>
              <div class="form-group row">
                <div class="col-sm-3">
                  <p:outputLabel class="form-control-label" value="#{bundle.ViewPacienteLabel_religion}"/>
                </div>
                <div class="col-sm-9">
                  <h:outputText value="#{historia.pacienteSelected.religion}" />
                </div>
              </div>
              <div class="form-group row">
                <div class="col-sm-3">
                  <p:outputLabel class="form-control-label" value="#{bundle.ViewPacienteLabel_estadoCivil}"/>
                </div>
                <div class="col-sm-9">
                  <h:outputText value="#{historia.pacienteSelected.estadoCivil}" />
                </div>
              </div>
              <div class="form-group row">
                <div class="col-sm-3">
                  <p:outputLabel class="form-control-label" value="#{bundle.ViewPacienteLabel_fechaApertura}"/>
                </div>
                <div class="col-sm-9">
                  <h:outputText value="#{historia.pacienteSelected.fechaApertura}">
                    <f:convertDateTime pattern="dd/MM/yyyy" />
                  </h:outputText>
                </div>
              </div>
            </div>
          </div>
        </h:panelGroup>

        <h:form id="formId">
          <h:panelGroup id="historiaData">
            <div class="row historia-clinica">
              <h2>Datos de historia clinica</h2>
              <div class="col-lg-6">
                <div class="form-group row">
                  <p:outputLabel class="col-sm-5 form-control-label" value="#{bundle.CreateHistoriaclinicaLabel_antecedentesFamiliares}" for="antecedentesFamiliares" />
                  <div class="col-sm-7">
                    <p:inputText class="form-control" id="antecedentesFamiliares" value="#{historia.historia.antecedentesFamiliares}" title="#{bundle.CreateHistoriaclinicaTitle_antecedentesFamiliares}" required="true" requiredMessage="#{bundle.CreateHistoriaclinicaRequiredMessage_antecedentesFamiliares}"/>
                  </div>
                </div>
                <div class="form-group row">
                  <p:outputLabel class="col-sm-5 form-control-label" value="#{bundle.CreateHistoriaclinicaLabel_antecedentesPersonales}" for="antecedentesPersonales" />
                  <div class="col-sm-7">
                    <p:inputText class="form-control" id="antecedentesPersonales" value="#{historia.historia.antecedentesPersonales}" title="#{bundle.CreateHistoriaclinicaTitle_antecedentesPersonales}" required="true" requiredMessage="#{bundle.CreateHistoriaclinicaRequiredMessage_antecedentesPersonales}"/>
                  </div>
                </div>
                <div class="form-group row">
                  <p:outputLabel class="col-sm-5 form-control-label" value="#{bundle.CreateHistoriaclinicaLabel_diagnosticoPresuntivo}" for="diagnosticoPresuntivo" />
                  <div class="col-sm-7">
                    <p:inputText class="form-control" id="diagnosticoPresuntivo" value="#{historia.historia.diagnosticoPresuntivo}" title="#{bundle.CreateHistoriaclinicaTitle_diagnosticoPresuntivo}" required="true" requiredMessage="#{bundle.CreateHistoriaclinicaRequiredMessage_diagnosticoPresuntivo}"/>
                  </div>
                </div>

                <div class="form-group row">
                  <p:outputLabel class="col-sm-5 form-control-label" value="#{bundle.CreateHistoriaclinicaLabel_diagnosticoDefinitivo}" for="diagnosticoDefinitivo" />
                  <div class="col-sm-7">
                    <p:inputText class="form-control" id="diagnosticoDefinitivo" value="#{historia.historia.diagnosticoDefinitivo}" title="#{bundle.CreateHistoriaclinicaTitle_diagnosticoDefinitivo}" required="true" requiredMessage="#{bundle.CreateHistoriaclinicaRequiredMessage_diagnosticoDefinitivo}"/>
                  </div>
                </div>

              </div>

              <div class="col-lg-6">

                <div class="form-group row">
                  <p:outputLabel class="col-sm-3 form-control-label" value="#{bundle.CreateHistoriaclinicaLabel_planTrabajo}" for="planTrabajo" />
                  <div class="col-sm-9">
                    <p:inputText class="form-control" id="planTrabajo" value="#{historia.historia.planTrabajo}" title="#{bundle.CreateHistoriaclinicaTitle_planTrabajo}" required="true" requiredMessage="#{bundle.CreateHistoriaclinicaRequiredMessage_planTrabajo}"/>
                  </div>
                </div>
                <div class="form-group row">
                  <p:outputLabel class="col-sm-3 form-control-label" value="#{bundle.CreateHistoriaclinicaLabel_pronostico}" for="pronostico" />
                  <div class="col-sm-9">
                    <p:inputText class="form-control" id="pronostico" value="#{historia.historia.pronostico}" title="#{bundle.CreateHistoriaclinicaTitle_pronostico}" required="true" requiredMessage="#{bundle.CreateHistoriaclinicaRequiredMessage_pronostico}"/>
                  </div>
                </div>
                <div class="form-group row">
                  <p:outputLabel class="col-sm-5 form-control-label" value="#{bundle.CreateHistoriaclinicaLabel_tratamientoRecomendacion}" for="tratamientoRecomendacion" />
                  <div class="col-sm-7">
                    <p:inputText class="form-control" id="tratamientoRecomendacion" value="#{historia.historia.tratamientoRecomendacion}" title="#{bundle.CreateHistoriaclinicaTitle_tratamientoRecomendacion}" required="true" requiredMessage="#{bundle.CreateHistoriaclinicaRequiredMessage_tratamientoRecomendacion}"/>
                  </div>
                </div>
                <div class="form-group row">
                  <p:outputLabel class="col-sm-3 form-control-label" value="#{bundle.CreateHistoriaclinicaLabel_altaPaciente}" for="altaPaciente" />
                  <div class="col-sm-9">
                    <p:inputText class="form-control" id="altaPaciente" value="#{historia.historia.altaPaciente}" title="#{bundle.CreateHistoriaclinicaTitle_altaPaciente}" required="true" requiredMessage="#{bundle.CreateHistoriaclinicaRequiredMessage_altaPaciente}"/>
                  </div>
                </div>


              </div>
            </div>
          </h:panelGroup>


          <div class="row enfermedad">
            <div class="col-lg-12">

              <p>Agregar enfermedad: 
                <p:commandButton id="createButton" icon="ui-icon-plus"   
                                 value="Agregar"
                                 oncomplete="PF('EnfermedadCreateDialog').show()"/>
              </p>

            </div>
            <div class="col-lg-12">
              <p:dataTable id="datalistEnfermedades" value="#{historia.enfermedades}" var="item">
                <p:column>
                  <f:facet name="header">
                    <h:outputText value="#{bundle.ListEnfermedadTitle_datosInformante}"/>
                  </f:facet>
                  <h:outputText value="#{item.datosInformante}"/>
                </p:column>
                <p:column>
                  <f:facet name="header">
                    <h:outputText value="#{bundle.ListEnfermedadTitle_motivoConsulta}"/>
                  </f:facet>
                  <h:outputText value="#{item.motivoConsulta}"/>
                </p:column>
                <p:column>
                  <f:facet name="header">
                    <h:outputText value="#{bundle.ListEnfermedadTitle_tiempoEnfermedad}"/>
                  </f:facet>
                  <h:outputText value="#{item.tiempoEnfermedad}"/>
                </p:column>
                <p:column>
                  <f:facet name="header">
                    <h:outputText value="#{bundle.ListEnfermedadTitle_signosSintomas}"/>
                  </f:facet>
                  <h:outputText value="#{item.signosSintomas}"/>
                </p:column>
                <p:column>
                  <f:facet name="header">
                    <h:outputText value="#{bundle.ListEnfermedadTitle_relatoCronologico}"/>
                  </f:facet>
                  <h:outputText value="#{item.relatoCronologico}"/>
                </p:column>
                <p:column>
                  <f:facet name="header">
                    <h:outputText value="#{bundle.ListEnfermedadTitle_funcionesBiologiacas}"/>
                  </f:facet>
                  <h:outputText value="#{item.funcionesBiologiacas}"/>
                </p:column>
              </p:dataTable>

            </div>
          </div>



          <div class="row exporacion-fisica">
            <div class="col-lg-12">
              <p>Agregar exploración física:  
                <p:commandButton id="addExploracion" icon="ui-icon-plus"   
                                 value="Agregar"
                                 oncomplete="PF('ExploracionfisicaCreateDialog').show()"/>
              </p>
            </div>
            <div class="col-lg-12">
              <p:dataTable id="datalistExploracion" value="#{historia.exploraciones}" var="item">
                <p:column>
                  <f:facet name="header">
                    <h:outputText value="#{bundle.ListExploracionfisicaTitle_signosVitales}"/>
                  </f:facet>
                  <h:outputText value="#{item.signosVitales}"/>
                </p:column>
                <p:column>
                  <f:facet name="header">
                    <h:outputText value="#{bundle.ListExploracionfisicaTitle_pulso}"/>
                  </f:facet>
                  <h:outputText value="#{item.pulso}"/>
                </p:column>
                <p:column>
                  <f:facet name="header">
                    <h:outputText value="#{bundle.ListExploracionfisicaTitle_temperatura}"/>
                  </f:facet>
                  <h:outputText value="#{item.temperatura}"/>
                </p:column>
                <p:column>
                  <f:facet name="header">
                    <h:outputText value="#{bundle.ListExploracionfisicaTitle_fc}"/>
                  </f:facet>
                  <h:outputText value="#{item.fc}"/>
                </p:column>
                <p:column>
                  <f:facet name="header">
                    <h:outputText value="#{bundle.ListExploracionfisicaTitle_frecuenciaRespiratoria}"/>
                  </f:facet>
                  <h:outputText value="#{item.frecuenciaRespiratoria}"/>
                </p:column>
                <p:column>
                  <f:facet name="header">
                    <h:outputText value="#{bundle.ListExploracionfisicaTitle_examenClinicoGeneral}"/>
                  </f:facet>
                  <h:outputText value="#{item.examenClinicoGeneral}"/>
                </p:column>
                <p:column>
                  <f:facet name="header">
                    <h:outputText value="#{bundle.ListExploracionfisicaTitle_odontoestomatologico}"/>
                  </f:facet>
                  <h:outputText value="#{item.odontoestomatologico}"/>
                </p:column>
              </p:dataTable>
            </div>
          </div>

          <div align="center">
            <p:commandButton actionListener="#{historia.grabarHistoriaClinica}" 
                             value="Guardar" icon="fa fa-floppy-o" 
                             update="formId:historiaData,:growl"/>
          </div>
        </h:form>
      </div>


      <ui:include src="addEnfermedad.xhtml"/>
      <ui:include src="addExploracion.xhtml"/>
      <ui:include src="historiaBuscarPaciente.xhtml"/>


    </ui:define>
  </ui:composition>
</html>

